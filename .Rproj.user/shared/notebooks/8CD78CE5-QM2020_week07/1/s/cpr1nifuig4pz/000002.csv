"0","## function for the linear prediction"
"0","pred_lm <- function (b, x, z) {"
"0","  preds <- matrix(NA, length(x), length(z))"
"0","  for (i in 1:length(z)) {"
"0","    preds[, i] <- b[1] + b[2] * x + b[3] * z[i] + b[4] * x * z[i]"
"0","  }"
"0","  return(preds)"
"0","}"
"0",""
"0","## use the function for the continuous model"
"0","b_con <- coef(mod_con)"
"0","x_vals <- seq(min(ia_data$x), max(ia_data$x), length.out = 101)"
"0","z_vals_con <- quantile(ia_data$z_con, "
"0","                       c(0, .01, .1, .25, .5, .75, .9, .99, 1))"
"0","preds_con <- pred_lm(b_con, x_vals, z_vals_con)"
"0",""
"0","## ..and for the categorical model"
"0","b_cat <- coef(mod_cat)"
"0","z_vals_cat <- c(0, 1)"
"0","preds_cat <- pred_lm(b_cat, x_vals, z_vals_cat)"
